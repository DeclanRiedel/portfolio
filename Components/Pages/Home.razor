@page "/"
@inject IJSRuntime JS

<PageTitle>Home</PageTitle>

<div class="content-wrapper">
    <div class="hero-section">
        <img src="images/background.png" class="background-image" alt="Background" id="background-image" />

        <div class="nav-links">
            <MudStack>
                <MudButton Class="custom-nav-button" OnClick="@(() => ScrollToSection("skills"))">
                    Skills <MudIcon Icon="@Icons.Material.Filled.ArrowDownward" />
                </MudButton>
                <MudButton Class="custom-nav-button" OnClick="@(() => ScrollToSection("projects"))">
                    Projects <MudIcon Icon="@Icons.Material.Filled.ArrowDownward" />
                </MudButton>
                <MudButton Class="custom-nav-button" OnClick="@(() => ScrollToSection("about"))">
                    About Me <MudIcon Icon="@Icons.Material.Filled.ArrowDownward" />
                </MudButton>
            </MudStack>
        </div>
    </div>

    <div class="sections-container">
        <div id="skills" class="skills-section">
            <MudText Typo="Typo.h2" Align="Align.Center" Class="mb-8">Skills</MudText>
            <MudText Align="Align.Center" Class="skills-text">
                I'm a <span class="highlight">(dotnet)</span> developer with skills in <span class="highlight">(postgres)</span> and linux & <span class="highlight">(nix)</span> systems
            </MudText>
        </div>

        <MudCard id="projects" Elevation="8" Class="mb-16 custom-card">
            <MudCardHeader>
                <MudText Typo="Typo.h3">Projects</MudText>
            </MudCardHeader>
            <MudCardContent>
                <MudGrid>
                    @foreach (var project in projects)
                    {
                        <MudItem xs="12" sm="6" md="4">
                            <MudCard>
                                <MudCardHeader>
                                    <MudText Typo="Typo.h5">@project.Title</MudText>
                                </MudCardHeader>
                                <MudCardContent>
                                    <MudText>@project.Description</MudText>
                                </MudCardContent>
                                <MudCardActions>
                                    <MudButton Variant="Variant.Text" Color="Color.Primary">Learn More</MudButton>
                                </MudCardActions>
                            </MudCard>
                        </MudItem>
                    }
                </MudGrid>
            </MudCardContent>
        </MudCard>

        <MudCard id="about" Elevation="8" Class="custom-card">
            <MudCardHeader>
                <MudText Typo="Typo.h3">About Me</MudText>
            </MudCardHeader>
            <MudCardContent>
                <p>This is some filler content for the About Me section.</p>
            </MudCardContent>
        </MudCard>
    </div>
</div>

<style>
    .content-wrapper {
        min-height: 200vh;
    }

    .hero-section {
        height: 100vh;
        position: relative;
        overflow: hidden;
    }

    .background-image {
        position: absolute;
        right: 1%;
        top: 45%;
        transform: translateY(-50%);
        max-width: 50vw;
        max-height: 66vh;
        object-fit: contain;
        object-position: right center;
        z-index: 0;
        transition: transform 0.1s ease-out;
    }

    .sections-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
    }

    .custom-card {
        background-color: rgba(30, 30, 30, 0.8);
        background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIj4KICA8ZmlsdGVyIGlkPSJub2lzZSIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+CiAgICA8ZmVUdXJidWxlbmNlIHR5cGU9ImZyYWN0YWxOb2lzZSIgYmFzZUZyZXF1ZW5jeT0iMC42NSIgbnVtT2N0YXZlcz0iMyIgc3RpdGNoVGlsZXM9InN0aXRjaCIvPgogICAgPGZlQ29sb3JNYXRyaXggdHlwZT0ic2F0dXJhdGUiIHZhbHVlcz0iMCIvPgogIDwvZmlsdGVyPgogIDxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWx0ZXI9InVybCgjbm9pc2UpIiBvcGFjaXR5PSIwLjA1Ii8+Cjwvc3ZnPg==');
        background-blend-mode: overlay;
        color: white;
        margin-bottom: 2rem;
    }

    .skills-section {
        padding: 4rem 0;
        color: white;
    }

    .skills-text {
        font-size: 1.5rem;
        font-weight: bold;
    }

    .highlight {
        color: #FFA07A; /* Light Salmon color */
        font-weight: bolder;
    }

    .nav-links {
        position: absolute;
        left: 12%;
        top: 50%;
        transform: translateY(-50%);
        z-index: 1;
    }

    .custom-nav-button {
        color: white;
        background-color: transparent;
        border: none;
        margin-bottom: 2rem;
        transition: all 0.3s ease;
        font-size: 2.5rem;
        font-weight: bold;
        text-transform: none;
        justify-content: flex-start;
        padding: 0;
    }

    .custom-nav-button:hover {
        color: #FFA07A; /* Light Salmon color */
        transform: translateX(20px);
    }

    .custom-nav-button .mud-button-label {
        justify-content: flex-start;
    }

    .custom-nav-button .mud-icon-root {
        margin-left: 0.5rem;
    }
</style>

@code {
    private List<Project> projects = new List<Project>
    {
        new Project { Title = "Project 1", Description = "Description of Project 1" },
        new Project { Title = "Project 2", Description = "Description of Project 2" },
        new Project { Title = "Project 3", Description = "Description of Project 3" },
        new Project { Title = "Project 4", Description = "Description of Project 4" },
    };

    private class Project
    {
        public string Title { get; set; }
        public string Description { get; set; }
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JS.InvokeVoidAsync("addMouseMoveListener", "#background-image");
        }
    }

    private async Task ScrollToSection(string sectionId)
    {
        await JS.InvokeVoidAsync("smoothScrollTo", sectionId);
    }
}