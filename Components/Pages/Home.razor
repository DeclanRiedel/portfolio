@page "/"
@inject IJSRuntime JS

<PageTitle>Home</PageTitle>

<div class="content-wrapper">
    <div class="hero-section">
        <img src="images/background.png" class="background-image" alt="Background" id="background-image" />

        <div class="nav-links">
            <MudStack>
                <MudButton Class="custom-nav-button" OnClick="@(() => ScrollToSection("skills"))">
                    <span class="button-text">Skills</span>
                    <MudIcon Icon="@Icons.Material.Filled.ArrowDownward" />
                </MudButton>
                <MudButton Class="custom-nav-button" OnClick="@(() => ScrollToSection("projects"))">
                    <span class="button-text">Projects</span>
                    <MudIcon Icon="@Icons.Material.Filled.ArrowDownward" />
                </MudButton>
                <MudButton Class="custom-nav-button" OnClick="@(() => ScrollToSection("about"))">
                    <span class="button-text">About Me</span>
                    <MudIcon Icon="@Icons.Material.Filled.ArrowDownward" />
                </MudButton>
            </MudStack>
        </div>
    </div>

    <div class="sections-container">
        <MudCard id="skills" Elevation="3" Class="mb-16">
            <MudCardHeader>
                <MudText Typo="Typo.h3">Skills</MudText>
            </MudCardHeader>
            <MudCardContent>
                <p>This is some filler content for the Skills section.</p>
            </MudCardContent>
        </MudCard>

        <MudCard id="projects" Elevation="3" Class="mb-16">
            <MudCardHeader>
                <MudText Typo="Typo.h3">Projects</MudText>
            </MudCardHeader>
            <MudCardContent>
                <MudGrid>
                    @foreach (var project in projects)
                    {
                        <MudItem xs="12" sm="6" md="4">
                            <MudCard>
                                <MudCardHeader>
                                    <MudText Typo="Typo.h5">@project.Title</MudText>
                                </MudCardHeader>
                                <MudCardContent>
                                    <MudText>@project.Description</MudText>
                                </MudCardContent>
                                <MudCardActions>
                                    <MudButton Variant="Variant.Text" Color="Color.Primary">Learn More</MudButton>
                                </MudCardActions>
                            </MudCard>
                        </MudItem>
                    }
                </MudGrid>
            </MudCardContent>
        </MudCard>

        <MudCard id="about" Elevation="3">
            <MudCardHeader>
                <MudText Typo="Typo.h3">About Me</MudText>
            </MudCardHeader>
            <MudCardContent>
                <p>This is some filler content for the About Me section.</p>
            </MudCardContent>
        </MudCard>
    </div>
</div>

<style>
    .content-wrapper {
        min-height: 200vh;
    }

    .hero-section {
        height: 100vh;
        position: relative;
        overflow: hidden;
    }

    .background-image {
        position: absolute;
        right: 1%;
        top: 45%;
        transform: translateY(-50%);
        max-width: 50vw;
        max-height: 66vh;
        object-fit: contain;
        object-position: right center;
        z-index: 0;
        transition: transform 0.1s ease-out;
    }

    .nav-links {
        position: absolute;
        left: 8%;
        top: 40%;
        transform: translateY(-50%);
        z-index: 1;
    }

    .custom-nav-button {
        font-weight: bold;
        font-size: 2rem;
        padding: 20px 0;
        color: white;
        background-color: transparent !important;
        transition: transform 0.2s ease-out;
        justify-content: flex-start;
        width: 100%;
    }

    .custom-nav-button:hover {
        transform: translateX(10px);
        background-color: transparent !important;
    }

    .button-text {
        margin-right: 10px;
    }

    .sections-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
    }
</style>

@code {
    private List<Project> projects = new List<Project>
    {
        new Project { Title = "Project 1", Description = "Description of Project 1" },
        new Project { Title = "Project 2", Description = "Description of Project 2" },
        new Project { Title = "Project 3", Description = "Description of Project 3" },
    };

    private class Project
    {
        public string Title { get; set; }
        public string Description { get; set; }
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JS.InvokeVoidAsync("addMouseMoveListener", "#background-image");
        }
    }

    private async Task ScrollToSection(string sectionId)
    {
        await JS.InvokeVoidAsync("smoothScrollTo", sectionId);
    }
}